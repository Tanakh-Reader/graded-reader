{% extends 'layout.html' %}
{% load static %}
{% load json %}

{% block title %}Algorithms Page{% endblock %}

{% block content %}
    {% include "widgets/loading.html" with title="Fetching Algorithms" %}
    <div class="algorithms-content mx-auto flex hidden min-w-144 flex-col py-10">
        <div class="mb-4 flex flex-row gap-16">
            <h1 class="text-4xl font-bold">Algorithms</h1>
            <button class="toggle-form-button">
                <span class="material-icons md-42">precision_manufacturing</span>
            </button>
        </div>
        <div class="masonry-grid mx-auto my-12 flex justify-center lg:w-[800px] xl:w-[1100px]">
            <div class="grid-sizer lg:w-1/2 xl:w-1/3"></div>
            {% for algorithm in algorithms %}
                <div id="algorithm-{{ algorithm.id }}"
                     class="algorithm mb-7 flex w-80 flex-col gap-6 rounded-lg border bg-white p-6 text-sm shadow-lg"
                     data-algorithm-id="{{ algorithm.id }}">
                    <div class="flex flex-row justify-between">
                        <div class="text-lg font-bold">{{ algorithm.name }}</div>
                        <div class="flex items-center space-x-4">
                            <div>
                                <button class="toggle-form-button edit-algorithm">
                                    <span class="material-icons md-14">edit</span>
                                </button>
                            </div>
                            <div>
                                <a href="#"
                                   class="delete-btn rounded bg-red-500 px-2 font-bold text-white hover:bg-red-300">x</a>
                            </div>
                        </div>
                    </div>
                    {% include 'widgets/algorithm_data.html' %}
                </div>
            {% endfor %}
        </div>
    </div>

    {% include 'widgets/algorithm_form.html' %}

    <script type="module"
            src="{% static 'js/algorithms.js' %}"></script>

{% endblock %}
