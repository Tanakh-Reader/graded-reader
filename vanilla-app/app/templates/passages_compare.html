{% extends 'layout.html' %}
{% load static %}
{% load list_extras %}

{% block title %}Passages Page{% endblock %}

{% block styles %}
<link rel="stylesheet" href="{% static 'css/passages_compare.css' %}">
{% endblock %}

{% block content %}

<div class="container mx-auto px-4">
    <div id="alg">TEST</div>
    <div class="ml-4 mb-6">{% include 'widgets/word_highlights_dropdown.html' %}
    </div>
    <div class="flex flex-row">

        {% for text_passage in text_passages %}
        <div class="passage-container flex flex-col w-1/2 mx-1 py-3 px-4">
            <div class="flex flex-row justify-center items-center my-4">
                <!-- Passage selection dropdown -->
                <button class="btn" onclick="showDropdown(this)">
                    {{ text_passage.reference }}
                </button>
                {% include 'widgets/passage_selector.html' %}
                
                <h2 class="ml-8">{{ text_passage.penalty }}</h2>
                <button class="btn" onclick="runAlgorithm('{{ text_passage.id }}')">A</button>
            </div>

            <!--  USED by the API CALL -->
            <div class="passage-text" 
        data-id="{{ text_passage.id }}"></div>
        
        </div>
        {% endfor %}

    </div>
</div>

<!-- Selected word data -->
{% include 'widgets/selected_word.html' %}

<script type="module" src="{% static 'js/widgets/hebrew_text.js' %}"></script>
<!-- For some reason the color goes away on the left without the above import. Why?? -->
<script type="module" src="{% static 'js/passages_compare.js' %}"></script>
<script type="module" src="{% static 'js/widgets/passage_selector.js' %}"></script>


{% endblock %}

